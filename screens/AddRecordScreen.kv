#:kivy 2.1.0
<AddRecordScreen>:
###############################################################################
#  Add Record Screen
###############################################################################
   name: "AddRecordMenu"
   MDBoxLayout:
      orientation: 'vertical'
      padding: "20dp"
      # md_bg_color: app.theme_cls.primary_color
      MDBoxLayout:
         orientation: 'vertical'
         MDAnchorLayout:
            anchor_x: 'left'
            anchor_y: 'center'
            MDLabel:
               text: "Add Expense"
               halign: 'left'
               # md_bg_color: "red"
         MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            # md_bg_color: "orange"
            MDTextField:
               id: amount_text_field
               hint_text: "Amount Spent"
               icon_left: "currency-usd"
               text: "00.00"
               on_focus:  if self.text in "00.00": self.text = ""

         MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            # md_bg_color: "green"
            MDSegmentedControl:
               id: currency_field
               current_active_element: mxn_segment
               # segment_panel_width:"200dp"
               pos_hint: {"center_x": .5, "center_y": .5}
               MDSegmentedControlItem:
                  id: mxn_segment
                  text: "MXN"
               MDSegmentedControlItem:
                  id: usd_segment
                  text: "USD"
         MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            # md_bg_color: "blue"
            MDTextField:
               id: description_text_field
               hint_text: 'Description'
               icon_left: 'format-text-variant'
         MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            # md_bg_color: "teal"
            MDRectangleFlatIconButton:
               id: calendar_button
               pos_hint: {"center_x": 0.5, "center_y": 0.5}
               text: "Today"
               text_color: "gray"
               line_color: "gray"
               icon: "calendar"
               on_release: root.show_date_picker()
         MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            MDStackLayout:
               id: chip_stack_layout
               spacing: "5dp"
               MDChip:
                  text: "Grocery"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Restaurant"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Services"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Gasoline"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "GasLP"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Electricity"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Water"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Rent"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Amazon"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Clothes"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Plane Tickets"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "Misc"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
               MDChip:
                  text: "+"
                  on_active: self.md_bg_color = app.theme_cls.primary_color if self.active else "#212121"
                  on_press: print("Adding Tag")
      Widget:
   MDAnchorLayout:
      anchor_x: 'right'
      anchor_y: 'bottom'
      padding: '20dp'
      MDFillRoundFlatIconButton:
         text: "Add Record"
         icon: "plus-thick"
         on_release: root.write_record_to_db()
